import{a as c,h as d,b as S,e as x,f as z,d as L,y as f,_ as i,T as k}from"./main-M1JXPXYr.js";const y="data:image/svg+xml,%3csvg%20t='1723972962578'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2206'%20width='200'%20height='200'%3e%3cpath%20fill='currentColor'%20d='M363.968%2062.72a32%2032%200%200%200-45.248%2045.248L434.752%20224h-349.44a32%2032%200%200%200-32%2032v170.688a32%2032%200%200%200%2032%2032h32v480a32%2032%200%200%200%2032%2032h725.376a32%2032%200%200%200%2032-32v-480h32a32%2032%200%200%200%2032-32V256a32%2032%200%200%200-32-32h-349.44l116.032-116.032a32%2032%200%200%200-45.248-45.248L512%20210.752%20363.968%2062.72z%20m147.2%20225.28h395.52v106.688H117.312V288h393.856z%20m331.52%20170.688v448H544v-448h298.688z%20m-362.688%200v448H181.312v-448H480z'%20p-id='2207'%3e%3c/path%3e%3c/svg%3e",C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20%3e%3cpath%20fill='currentColor'%20d='M15%2022v-4a4.8%204.8%200%200%200-1-3.5c3%200%206-2%206-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35%200-3.5%200%200-1%200-3%201.5-2.64-.5-5.36-.5-8%200C6%202%205%202%205%202c-.3%201.15-.3%202.35%200%203.5A5.403%205.403%200%200%200%204%209c0%203.5%203%205.5%206%205.5-.39.49-.68%201.05-.85%201.65-.17.6-.22%201.23-.15%201.85v4'%20/%3e%3cpath%20fill='currentColor'%20d='M9%2018c-4.51%202-5-2-7-2'%20/%3e%3c/svg%3e",M="data:image/svg+xml,%3csvg%20t='1723955710366'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2884'%20width='200'%20height='200'%3e%3cpath%20fill='currentColor'%20d='M77.77%20431.834l-0.045%200.08c-13.781%2023.584-19.698%2052.65-19.698%2079.926%200%2027.325%205.938%2056.453%2019.66%2080.18l135.678%20234.664c0.371%200.642%200.764%201.271%201.179%201.886l0.698%201.034c13.807%2020.454%2025.18%2037.304%2035.449%2050.267%2010.611%2013.393%2021.771%2024.933%2036.015%2033.167%2014.564%208.418%2029.734%2011.884%2045.91%2013.475%2015.137%201.488%2033.355%201.488%2054.61%201.487h249.12c21.364%200.001%2039.656%200.001%2054.846-1.486%2016.219-1.587%2031.424-5.046%2046.015-13.456%2014.282-8.232%2025.464-19.776%2036.09-33.178%2010.28-12.968%2021.655-29.821%2035.459-50.271l0.701-1.039a31.97%2031.97%200%200%200%201.18-1.886l135.68-234.667c13.721-23.727%2019.657-52.852%2019.657-80.177%200-27.275-5.916-56.341-19.696-79.924l-0.047-0.082-135.594-234.518a31.97%2031.97%200%200%200-1.18-1.886l-0.697-1.032c-13.807-20.456-25.18-37.306-35.45-50.269-10.61-13.393-21.771-24.933-36.015-33.167-14.564-8.419-29.734-11.885-45.91-13.475-15.137-1.489-33.355-1.488-54.609-1.487h-249.55c-21.255%200-39.473-0.001-54.61%201.487-16.176%201.59-31.346%205.057-45.91%2013.475-14.244%208.234-25.404%2019.774-36.015%2033.167-10.27%2012.963-21.643%2029.813-35.449%2050.267l-0.698%201.034a32.503%2032.503%200%200%200-1.18%201.886L77.771%20431.834zM133.09%20559.98c-6.759-11.686-11.062-29.066-11.062-48.14%200-19.093%204.311-36.286%2010.977-47.674l135.209-233.852c14.34-21.243%2024.194-35.778%2032.644-46.443%208.403-10.607%2013.669-15.067%2017.878-17.5%203.889-2.248%209.2-4.115%2020.144-5.191%2011.635-1.144%2026.687-1.18%2049.815-1.18h246.613c23.129%200%2038.18%200.036%2049.816%201.18%2010.944%201.076%2016.254%202.943%2020.143%205.191%204.21%202.433%209.476%206.893%2017.879%2017.5%208.449%2010.665%2018.303%2025.2%2032.643%2046.443l135.123%20233.703%200.087%200.149c6.666%2011.388%2010.976%2028.581%2010.976%2047.674%200%2019.074-4.305%2036.457-11.063%2048.143L755.788%20793.686c-14.341%2021.244-24.192%2035.774-32.643%2046.434-8.401%2010.597-13.672%2015.054-17.897%2017.489-3.916%202.257-9.271%204.131-20.292%205.21-11.704%201.146-26.843%201.181-50.075%201.181H388.694c-23.128%200-38.18-0.036-49.815-1.18-10.944-1.076-16.255-2.943-20.144-5.191-4.209-2.433-9.475-6.893-17.878-17.5-8.45-10.665-18.304-25.201-32.644-46.443L133.089%20559.98zM352%20512a159.999%20159.999%200%200%200%20273.137%20113.137A159.999%20159.999%200%200%200%20512%20352a159.999%20159.999%200%200%200-160%20160z%20m227.882-67.882a95.996%2095.996%200%200%201%200%20135.764%2095.996%2095.996%200%200%201-135.764%200%2095.996%2095.996%200%200%201%200-135.764%2095.996%2095.996%200%200%201%20135.764%200z'%20p-id='2885'%3e%3c/path%3e%3c/svg%3e",N="data:image/svg+xml,%3csvg%20t='1723964719700'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2059'%20width='200'%20height='200'%3e%3cpath%20fill='currentColor'%20d='M53.312%20512a458.688%20458.688%200%201%201%20917.376%200A458.688%20458.688%200%200%201%2053.312%20512z%20m339.52-376.32a394.048%20394.048%200%200%200-138.88%2077.632c25.6%2022.08%2053.952%2040.96%2084.48%2055.936%206.784-25.408%2014.528-49.152%2023.168-70.848%209.216-22.912%2019.584-44.16%2031.232-62.72zM209.024%20258.944A392.896%20392.896%200%200%200%20118.592%20480h191.232c1.472-51.584%206.528-100.992%2014.656-146.688a459.136%20459.136%200%200%201-115.456-74.24z%20m422.144%20629.376a394.176%20394.176%200%200%200%20138.88-77.696%20395.328%20395.328%200%200%200-84.48-55.936%20610.752%20610.752%200%200%201-23.168%2070.848c-9.152%2022.912-19.584%2044.096-31.232%2062.72z%20m183.808-123.456A392.832%20392.832%200%200%200%20905.408%20544H714.24a1008.704%201008.704%200%200%201-14.72%20146.624c42.24%2019.008%2081.152%2044.16%20115.456%2074.304zM905.408%20480a392.96%20392.96%200%200%200-90.432-220.928%20459.2%20459.2%200%200%201-115.392%2074.24c8.064%2045.696%2013.12%2095.104%2014.656%20146.688h191.168zM769.92%20213.312a394.112%20394.112%200%200%200-138.88-77.696c11.712%2018.688%2022.144%2039.872%2031.296%2062.784%208.704%2021.76%2016.448%2045.44%2023.104%2070.848a395.328%20395.328%200%200%200%2084.48-55.936zM392.832%20888.384a399.04%20399.04%200%200%201-31.232-62.784%20610.624%20610.624%200%200%201-23.104-70.848%20395.264%20395.264%200%200%200-84.48%2055.936%20394.048%20394.048%200%200%200%20138.88%2077.696z%20m-183.744-123.456a459.136%20459.136%200%200%201%20115.392-74.24A1008.448%201008.448%200%200%201%20309.76%20544H118.656a392.896%20392.896%200%200%200%2090.496%20220.928zM512%20117.312c-11.904%200-26.496%205.952-43.2%2023.552-16.64%2017.664-33.216%2044.928-47.744%2081.28-8.448%2021.12-16%2044.8-22.528%2070.656A394.752%20394.752%200%200%200%20512%20309.312c39.488%200%2077.568-5.76%20113.536-16.512a557.824%20557.824%200%200%200-22.528-70.592c-14.592-36.416-31.104-63.68-47.808-81.344-16.64-17.6-31.232-23.552-43.2-23.552zM373.824%20480h276.352a953.28%20953.28%200%200%200-11.712-124.352A458.88%20458.88%200%200%201%20512%20373.312a458.88%20458.88%200%200%201-126.4-17.664A953.216%20953.216%200%200%200%20373.76%20480z%20m11.776%20188.352A458.944%20458.944%200%200%201%20512%20650.688c43.84%200%2086.272%206.144%20126.464%2017.664%206.272-38.656%2010.368-80.448%2011.712-124.352H373.824c1.344%2043.904%205.44%2085.76%2011.776%20124.352zM512%20714.688c-39.424%200-77.568%205.76-113.472%2016.512%206.464%2025.792%2014.08%2049.472%2022.528%2070.592%2014.528%2036.416%2031.04%2063.68%2047.744%2081.344%2016.64%2017.6%2031.296%2023.552%2043.2%2023.552%2011.968%200%2026.56-5.952%2043.2-23.552%2016.704-17.664%2033.28-44.928%2047.808-81.28%208.448-21.184%2016-44.8%2022.464-70.656A394.752%20394.752%200%200%200%20512%20714.688z'%20p-id='2060'%3e%3c/path%3e%3c/svg%3e",b="data:image/svg+xml,%3csvg%20t='1723954861938'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2586'%20width='200'%20height='200'%20style='transform:%20scaleX(-1)'%3e%3cpath%20fill='currentColor'%20d='M441.216%20119.68a32%2032%200%200%201%2019.968%2029.632V335.36c130.368%208.064%20242.88%2059.648%20336.192%20154.24%20100.352%20101.632%20157.888%20228.352%20173.12%20378.432a32%2032%200%200%201-56.576%2023.488c-103.68-126.528-190.336-191.104-259.968-205.888-67.584-14.336-131.84-17.92-192.768-11.2v200.32a32%2032%200%200%201-55.488%2021.696L61.824%20524.032a32%2032%200%200%201%200.64-44.032l343.808-353.024a32%2032%200%200%201%2034.944-7.296zM129.408%20502.912l267.776%20289.92v-146.368a32%2032%200%200%201%2026.88-31.552c77.568-12.736%20158.72-9.856%20243.2%208.064%2069.312%2014.72%20142.208%2063.424%20218.688%20141.056a529.024%20529.024%200%200%200-134.144-229.568l20.864-20.544-20.864%2020.544c-88.832-90.048-195.84-135.232-322.88-136.256a32%2032%200%200%201-31.744-32V228.032L129.408%20502.912z'%20p-id='2587'%3e%3c/path%3e%3c/svg%3e",E=({size:t=25,style:e,...s})=>c("img",{...s,style:t?{...e,width:t+"px",height:t+"px"}:e}),g=({link:t,svg:e=b,alt:s="Open the link",children:a})=>t?c("a",{className:"opacity-90 hover:opacity-60",href:t,target:"_blank",children:a||c(E,{src:e,alt:s})}):null;var n=(t=>(t.KEY="setting_key",t.INSTANCE_URL="instanceUrl",t.PASSWORD="password",t))(n||{});const m="https://ause.cc/github",U=()=>{const[t,e]=d(""),[s,a]=d("");return S(()=>{chrome.storage.local.get([n.KEY]).then(l=>{e(l[n.KEY][n.INSTANCE_URL]),a(l[n.KEY][n.PASSWORD])})},[]),{instanceUrl:t,setInstanceUrl:e,password:s,setPassword:a,updateStorage:()=>chrome.storage.local.set({[n.KEY]:{[n.INSTANCE_URL]:t,[n.PASSWORD]:s}})}},Y=({hideSetting:t,hideWeb:e,hideGithub:s,hideGift:a})=>{const l=chrome.runtime.getURL("src/options/index.html"),{instanceUrl:o}=U();return c("div",{className:"mb-2 mt-5 flex w-full items-center justify-between",children:[c("div",{className:"flex items-center justify-start gap-2",children:[!t&&c(g,{link:l,svg:M,alt:"Open the setting page"}),!e&&c(g,{link:o,svg:N,alt:"Go to my Sink"}),!s&&c(g,{link:m,svg:C,alt:"Go to Github"}),!a&&c(g,{link:m,svg:y,alt:"Give a coffee"})]}),c("p",{className:"text-right text-xs text-gray-500",children:["Create by"," ",c("a",{className:"text-blue-500",href:m,children:"zhuzhuyule"})]})]})},u={},K=(t,e,s=100)=>function(...a){(!u[t]||Date.now()-u[t]>s)&&(u[t]=Date.now(),e(...a))},H=async(t,e)=>{const s=(await chrome.storage.local.get([n.KEY]))[n.KEY];return fetch(`${s[n.INSTANCE_URL]}${t}`,{...e,headers:{...e==null?void 0:e.headers,Authorization:`Bearer ${s[n.PASSWORD]||""}`}}).then(a=>a.json().catch(()=>null))};function V(t,e){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(t).then(()=>e(!0),s=>e(!1)):R(t,e)}function R(t,e){const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.top="0",s.style.left="0",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy"),e(!0)}catch{e(!1)}document.body.removeChild(s)}const B=x(!1),_=x(),$=(t=100)=>{const e=z(B),[s,a]=L(_),[l,o]=d(!1),[A,p]=d(!1);f(()=>{const r=localStorage.getItem("cachedLinks");r&&a(JSON.parse(r))},[]);const w=(r=100,v)=>(p(!0),H(`/api/link/list?limit=${r}&cursor`).then(h=>{if(h.statusMessage)throw Error();return a(h.links),localStorage.setItem("cachedLinks",JSON.stringify(h.links)),e(!0),h}).catch(()=>{a(void 0),v==null||v()}).finally(()=>{p(!1),o(!1)}));return f(()=>{o(!0),w(t).finally(()=>o(!1))},[t]),{links:s,setLinks:a,queryLinks:w,isLoading:l,isRefreshing:A}},I=t=>i("svg",{t:1723981683703,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":3120,width:200,height:200,...t},i("path",{d:"M480.768 95.232C480.768 77.952 494.72 64 512 64a448 448 0 1 1-448 448 31.232 31.232 0 1 1 62.528 0A385.472 385.472 0 1 0 512 126.528a31.232 31.232 0 0 1-31.232-31.296z","p-id":3121,fill:"currentColor"})),D=({size:t=25,...e})=>c("div",{...e,alt:"Loading",className:`${e.class||e.className||""}  animate-spin inline-block`,children:c(I,{style:{height:t+"px",width:t+"px"}})}),T=({className:t,padding:e="py-4",...s})=>c("div",{...s,className:e,children:c("div",{className:`${s.class||t||""} 'w-full border-t border-t-slate-300'`})}),P=t=>t?k(()=>`https://unavatar.io/${new URL(t).host}?fallback=https://sink.cool/sink.png`,[t]):"",j=t=>i("svg",{t:1723954612339,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":1456,width:200,height:200,...t},i("path",{fill:"currentColor",d:"M337.28 138.688a27.968 27.968 0 0 0-27.968 27.968v78.72h377.344c50.816 0 92.032 41.152 92.032 91.968v377.344h78.656a28.032 28.032 0 0 0 27.968-28.032V166.656a28.032 28.032 0 0 0-27.968-27.968H337.28z m441.408 640v78.656c0 50.816-41.216 91.968-92.032 91.968H166.656a92.032 92.032 0 0 1-91.968-91.968V337.28c0-50.816 41.152-92.032 91.968-92.032h78.72V166.656c0-50.816 41.152-91.968 91.968-91.968h520c50.816 0 91.968 41.152 91.968 91.968v520c0 50.816-41.152 92.032-91.968 92.032h-78.72zM166.656 309.312a27.968 27.968 0 0 0-27.968 28.032v520c0 15.424 12.544 27.968 27.968 27.968h520a28.032 28.032 0 0 0 28.032-27.968V337.28a28.032 28.032 0 0 0-28.032-28.032H166.656z","p-id":1457})),J=t=>i("svg",{t:1723990690799,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":3410,width:200,height:200,...t},i("path",{d:"M835.84 187.52A455.68 455.68 0 0 0 512 53.12c-122.88 0-238.08 48-324.48 134.4A456 456 0 0 0 53.12 512c0 122.88 48 237.44 134.4 324.48A456 456 0 0 0 512 970.88c122.24 0 237.44-48 324.48-134.4A456 456 0 0 0 970.88 512a456.64 456.64 0 0 0-135.04-324.48z m-88.32 218.88l-256 256a32.64 32.64 0 0 1-22.4 9.6 32.64 32.64 0 0 1-22.4-9.6l-128-128c-12.8-12.8-12.8-32.64 0-45.44 12.8-12.8 32.64-12.8 45.44 0l104.96 105.6 233.6-233.6c12.8-12.8 32.64-12.8 45.44 0 12.8 12.8 12.16 33.28-0.64 45.44z","p-id":3411,fill:"currentColor"})),W=({error:t})=>t?c("p",{className:"mt-1 text-xs text-red-500",children:t}):null;export{W as F,g as J,D as L,T as S,$ as a,P as b,V as c,K as d,E as e,J as f,j as g,Y as h,n as i,_ as l,B as o,H as r,U as u,N as w};
